<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Page Title</title>
    <script>
        window.onload = function () {
            function changeButton() {
                var btn = document.getElementById("fade-btn");
                btn.disabled = true;
                setTimeout(function () {
                    btn.disabled = false;
                }, 2000);
                if (btn.innerHTML == "淡出") {
                    setTimeout(function () {
                        btn.innerHTML = "淡入";
                    }, 2000);
                } else {
                    setTimeout(function () {
                        btn.innerHTML = "淡出";
                    }, 2000);
                }
            }

            function changeColor() {
                var div = document.getElementById("fade-obj");
                if (div.style.background == "rgb(0, 0, 0)") {
                    var rgb = 0;
                    var stop = setInterval(function () {
                        rgb = ++rgb;
                        div.style.background = "rgb(" + rgb + "," + rgb + "," + rgb + ")";
                        if (rgb == 255) {
                        clearInterval(stop);
                    }
                    }, 7.8431);
                    
                } else {
                    var rgb = 255;
                    var stop = setInterval(function () {
                        rgb = --rgb;
                        div.style.background = "rgb(" + rgb + "," + rgb + "," + rgb + ")";
                        if (rgb == 0) {
                        clearInterval(stop);
                    }
                    }, 7.8125);
                }
            }
            var btn = document.getElementById("fade-btn");
            btn.addEventListener("click", changeButton, false);
            btn.addEventListener("click", changeColor, false);
        }
    </script>
</head>

<body>
    <div id="fade-obj" style="width:300px;height:300px;background:rgb(0, 0, 0)"></div>
    <button id="fade-btn">淡出</button>
</body>

</html>